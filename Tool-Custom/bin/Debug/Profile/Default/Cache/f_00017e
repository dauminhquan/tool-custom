!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="Hul1")}({"+1ji":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("Nsbk")),s=r(n("iWIM")),c=r(n("7W2i")),l=r(n("32ku")),f=r(n("JaMJ")),d=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,u.default)(this,(0,a.default)(t).call(this,e))).value=n,r}return(0,c.default)(t,e),(0,i.default)(t,[{key:"validationError",value:function(){var e=(0,s.default)((0,a.default)(t.prototype),"validationError",this).call(this);return e||(0,f.default)(this.value,"field value in Timer metrics object '".concat(this.name,"'"))}},{key:"value",get:function(){return this._value},set:function(e){this._value=null!=e?Math.round(e):e}},{key:"type",get:function(){return l.default.Types.Timer}},{key:"canMonitor",get:function(){return!0}}]),t}(l.default);t.default=d},"+6Ur":function(e,t,n){t.SourceMapGenerator=n("5t5f").SourceMapGenerator,t.SourceMapConsumer=n("aq46").SourceMapConsumer,t.SourceNode=n("k3d0").SourceNode},"/pFH":function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},0:function(e,t){},"17tC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Object.values?Object.values:function(e){return Object.keys(e).map((function(t){return e[t]}))};t.default=r},"284h":function(e,t,n){var r=n("cDf5");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=i?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}},"2k1W":function(e,t,n){var r=n("SRM2"),o=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=r.toSetString(e),i=o.call(this._set,n),u=this._array.length;i&&!t||this._array.push(e),i||(this._set[n]=u)},i.prototype.has=function(e){var t=r.toSetString(e);return o.call(this._set,t)},i.prototype.indexOf=function(e){var t=r.toSetString(e);if(o.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},"2p/B":function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("vPKV")),u=function(e){console.error(e)},a=(new(o(n("5Xaf")).default.Builder)).withDomainRealm("prod","USAmazon").withErrorHandler(u).build(),s=/([^?]+)/.exec(window.location.href),c=new i.Metric.String("url",s?s[1]:window.location.href);c.truncate=!0;var l=(new i.Context.Builder).withSite("KatalLoggerInternalMetrics").withServiceName("KatalLogger").addRelatedMetrics(c).build(),f=new i.Publisher(a,u,l);t.metricsPublisher=f.newChildActionPublisherForMethod("KatalLogger:Loaded")},"32ku":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("cDf5")),i=r(n("lwsE")),u=r(n("W8MJ")),a=r(n("lSNA")),s=r(n("NhXK")),c=r(n("Sxz6")),l=function(){function e(t){(0,i.default)(this,e),this._name=t,this._isMonitor=!1}return(0,u.default)(e,[{key:"withMonitor",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.isMonitor=e,this}},{key:"validationError",value:function(){return void 0!==this.isMonitor&&"boolean"!=typeof this.isMonitor?new Error("Field isMonitor should be a boolean, but it was a ".concat((0,o.default)(this.isMonitor))):(0,s.default)(this.name,"field name")}},{key:"name",get:function(){return this._name}},{key:"metricKey",get:function(){return this._name}},{key:"isMonitor",set:function(e){this._isMonitor=!!e},get:function(){return this._isMonitor}},{key:"canMonitor",get:function(){throw new Error("Subclass of KatalMetricObject must implement canMonitor")}},{key:"type",get:function(){throw new Error("Subclass of KatalMetricObject must implement type getter")}}]),e}();t.default=l,(0,a.default)(l,"Types",c.default)},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"5M3z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0;return e.some((function(e){return null!=(n=t(e))})),n}},"5Xaf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(0);var r=n("kglv").KatalMetricsDriverSushi;t.default=r},"5t5f":function(e,t,n){var r=n("FJpV"),o=n("SRM2"),i=n("2k1W").ArraySet,u=n("nkJi").MappingList;function a(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new u,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)})),n},a.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var u=this._sourceRoot;null!=u&&(r=o.relative(u,r));var a=new i,s=new i;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=o.join(n,t.source)),null!=u&&(t.source=o.relative(u,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var c=t.source;null==c||a.has(c)||a.add(c);var l=t.name;null==l||s.has(l)||s.add(l)}),this),this._sources=a,this._names=s,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=u&&(t=o.relative(u,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,i,u=0,a=1,s=0,c=0,l=0,f=0,d="",h=this._mappings.toArray(),p=0,m=h.length;p<m;p++){if(e="",(t=h[p]).generatedLine!==a)for(u=0;t.generatedLine!==a;)e+=";",a++;else if(p>0){if(!o.compareByGeneratedPositionsInflated(t,h[p-1]))continue;e+=","}e+=r.encode(t.generatedColumn-u),u=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=r.encode(i-f),f=i,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-s),s=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},"6oTI":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("iWIM")),s=r(n("Nsbk")),c=r(n("AQtn")),l=r(n("7W2i")),f=r(n("32ku")),d=r(n("5M3z")),h=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(0,s.default)(t).call(this,e))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"validationError",value:function(){return(0,d.default)(this.metricList,(function(e){return e.validationError()}))}},{key:"metricList",get:function(){throw new Error("Subclass of KatalMetricObjectList must implement metricList getter")}},{key:"isMonitor",set:function(e){(0,c.default)((0,s.default)(t.prototype),"isMonitor",e,this,!0),this.metricList.forEach((function(t){t.canMonitor&&(t.isMonitor=e)}))},get:function(){return(0,a.default)((0,s.default)(t.prototype),"isMonitor",this)}},{key:"canMonitor",get:function(){return!0}},{key:"type",get:function(){return f.default.Types.List}}]),t}(f.default);t.default=h},"7Ss1":function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},"7W2i":function(e,t,n){var r=n("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},"8kC7":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("lwsE")),u=r(n("W8MJ"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.REGIONS.NA,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4?arguments[4]:void 0;(0,i.default)(this,e);var a=e.createSushiUrl(t,n),s=e.createCsmUserContext(a,o);this.ue_csm=this.setupMockCSMObject(s),this.encapsulatedWindow=this.setupMockWindow(this.ue_csm),this.transportationClientCode(this.ue_csm,window),u&&(this.ue_csm.ue._sBcn={isSupported:!0,send:function(e,t){return u(e,t),!0}}),this.clientCode(this.ue_csm,this.encapsulatedWindow),this.errorHandler=r}return(0,u.default)(e,null,[{key:"createSushiUrl",value:function(t,n){if(!n)throw new Error("Sushi Driver was not provided with a source group.");var r;switch(t){case e.REGIONS.NA:r="unagi-na";break;case e.REGIONS.EU:r="unagi-eu";break;case e.REGIONS.FE:r="unagi-fe";break;case e.REGIONS.CN:r="unagi-cn";break;default:throw new Error("Unrecognized region '".concat(t,"' provided to SushiClient."))}return"https://".concat(r,".amazon.com/1/events/").concat(n)}},{key:"createCsmUserContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s({hiPriFlushInterval:1e3,lowPriFlushInterval:1e4,requestId:"1",errorChannel:"jserr",sessionStorageWrapper:void 0,errorHandlerFunction:console.log,sushiUrl:e},t)}},{key:"REGIONS",get:function(){return{NA:"NA",EU:"EU",FE:"FE",CN:"CN"}}}]),(0,u.default)(e,[{key:"event",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o&&console.log("SushiClient wrapper publishing the following:",{data:e,producerId:t,schemaId:n,options:r}),this.ue_csm.ue.event(e,t,n,r)}},{key:"reset",value:function(){this.ue_csm.ue.event.reset()}},{key:"onSushiFlush",value:function(e){this.ue_csm.ue.onSushiFlush(e)}},{key:"onSushiUnload",value:function(e){this.ue_csm.ue.onSushiUnload(e)}},{key:"setupMockCSMObject",value:function(e){var t=this;return{ue_hpsi:e.hiPriFlushInterval,ue_lpsi:e.lowPriFlushInterval,ue:{ssw:e.sessionStorageWrapper,log:function(e,n){t.errorHandler?t.errorHandler(e):console.log("An error has occurred in SushiClient channel "+n,e)},exec:function(e,t){return e},event:function(e,t,n){console.warn("SushiClient CSM stub called in unsupported manner: event()")},attach:function(e,t,n){n=n||window,window.EventTarget&&window.EventTarget.prototype&&window.EventTarget.prototype.addEventListener?window.EventTarget.prototype.addEventListener.call(n,e,t,!!window.ue_clf):n.addEventListener?n.addEventListener(e,t,!!window.ue_clf):n.attachEvent&&n.attachEvent("on"+e,t)}},ueLogError:e.errorHandlerFunction,ue_surl:e.sushiUrl,ue_id:e.requestId,ue_err_chan:e.errorChannel}}},{key:"setupMockWindow",value:function(e){return{ue_csm:e,ueLogError:e.ueLogError,ue:e.ue,setTimeout:function(e,t){return window.setTimeout(e,t)}}}},{key:"clientCode",value:function(e,t){e.ue.exec((function(e,t){function n(){for(var e=0;e<arguments.length;e++){var n=arguments[e];try{if(!n.isSupported)throw dummyException;var r=N.buildPayload(M,_);return n.send(y,r)}catch(h){}}p({m:"All supported clients failed",attribution:"CSMSushiClient_TRANSPORTATION_FAIL",f:"sushi-client.js",logLevel:"ERROR"},t.ue_err_chan||"jserr")}function r(){if(_.length){for(var e=0;e<k.length;e++)k[e]();n(h._sBcn||{},h._ajx||{}),_=[],S={},M={},g=v=E=C=0}}function o(e){try{return JSON.stringify(e)}catch(t){}return null}function i(n,i,u,a){var s,d=!1;return a=a||{},++O==c&&p({m:"Max number of Sushi Logs exceeded",f:"sushi-client.js",logLevel:"ERROR",attribution:"CSMSushiClient_MAX_CALLS"},t.ue_err_chan||"jserr"),(s=!(O>=c))&&((s=n&&-1<n.constructor.toString().indexOf("Object")&&i&&-1<i.constructor.toString().indexOf("String")&&u&&-1<u.constructor.toString().indexOf("String"))||0),s&&(h.count&&h.count("Event:"+u,1),n.producerId=n.producerId||i,n.schemaId=n.schemaId||u,n.timestamp=function(){var e=new Date,t=function(e){return 10>e?"0"+e:e};return Date.prototype.toISOString?e.toISOString():e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}(),i=Date.now?Date.now():+new Date,u=Math.random().toString().substring(2,12),n.messageId=e.ue_id+"-"+i+"-"+u,a&&!a.ssd&&(n.sessionId=n.sessionId||e.ue_sid,n.requestId=n.requestId||e.ue_id,n.obfuscatedMarketplaceId=n.obfuscatedMarketplaceId||e.ue_mid),(i=o(n))?(i=i.length,(_.length==l||E+i>f)&&r(),E+=i,n={data:N.compressEvent(n)},_.push(n),(a||{}).n?0===x?r():g||(g=t.setTimeout(r,x)):v||(v=t.setTimeout(r,L)),d=!0):d=!1),!d&&e.ue_int&&console.error("Invalid JS Nexus API call"),d}function u(){if(!A){for(var t=0;t<T.length;t++)T[t]();for(t=0;t<k.length;t++)k[t]();_.length&&(e.ue_sbuimp&&e.ue&&e.ue.ssw&&(t=o({dct:M,evt:_}),e.ue.ssw("eeldata",t),e.ue.ssw("eelsts","unk")),n(h._sBcn||{})),A=!0}}function a(e){T.push(e)}function s(e){k.push(e)}var c=1e3,l=499,f=524288,d=function(){},h=e.ue||{},p=h.log||d,m=e.uex||d;(e.uet||d)("bb","ue_sushi_v1",{wb:1});var g,v,y=e.ue_surl||"https://unagi-na.amazon.com/1/events/com.amazon.csm.nexusclient.gamma",b=["messageId","timestamp"],w="#",_=[],S={},M={},E=0,C=0,O=0,T=[],k=[],A=!1,x=void 0===e.ue_hpsi?1e3:e.ue_hpsi,L=void 0===e.ue_lpsi?1e4:e.ue_lpsi,N=function(){function e(e){return S[e]=w+C++,M[S[e]]=e,S[e]}return{compressEvent:function t(n){if(!(n instanceof Function)){if(n instanceof Array){for(var r=[],o=n.length,i=0;i<o;i++)r[i]=t(n[i]);return r}if(n instanceof Object){for(o in r={},n)n.hasOwnProperty(o)&&(r[S[o]?S[o]:e(o)]=-1===b.indexOf(o)?t(n[o]):n[o]);return r}return"string"==typeof n&&(n.length>(w+C).length||n.charAt(0)===w)?S[n]?S[n]:e(n):n}},buildPayload:function(){return o({cs:{dct:M},events:_})}}}();!function(){if(h.event&&h.event.isStub){if(e.ue_sbuimp&&e.ue&&e.ue.ssw){var t=e.ue.ssw("eelsts").val;if(t&&"unk"===t&&(t=e.ue.ssw("eeldata").val)){var n;e:{try{n=JSON.parse(t);break e}catch(S){}n=null}n&&n.evt instanceof Array&&n.dct instanceof Object&&(_=n.evt,M=n.dct,_&&M&&(r(),e.ue.ssw("eeldata","{}"),e.ue.ssw("eelsts","scs")))}}h.event.replay((function(e){e[3]=e[3]||{},e[3].n=1,i.apply(this,e)})),h.onSushiUnload.replay((function(e){a(e[0])})),h.onSushiFlush.replay((function(e){s(e[0])}))}}(),h.attach("beforeunload",u),h.attach("pagehide",u),h._cmps=N,h.event=i,h.event.reset=function(){O=0},h.onSushiUnload=a,h.onSushiFlush=s;try{t.P&&t.P.register&&t.P.register("sushi-client",d)}catch(P){e.ueLogError(P,{logLevel:"WARN"})}m("ld","ue_sushi_v1",{wb:1})}),"Nxs-JS-Client")(e,t)}},{key:"transportationClientCode",value:function(e,t){e.ue.exec((function(e,t){var n=function(){},r={send:function(e,r){if(r&&e){var o;if(t.XDomainRequest)(o=new XDomainRequest).onerror=n,o.ontimeout=n,o.onprogress=n,o.onload=n,o.timeout=0;else if(t.XMLHttpRequest){if(!("withCredentials"in(o=new XMLHttpRequest)))throw""}else o=void 0;if(!o)throw"";o.open("POST",e,!0),o.setRequestHeader&&o.setRequestHeader("Content-type","text/plain"),o.send(r)}},isSupported:!0},o={send:function(t,n){if(t&&n){if(!navigator.sendBeacon(t,n))throw"";e.ue_sbuimp&&e.ue&&e.ue.ssw&&e.ue.ssw("eelsts","scs")}},isSupported:!(!navigator.sendBeacon||t.cordova&&t.cordova.platformId&&"ios"==t.cordova.platformId)};e.ue._ajx=r,e.ue._sBcn=o}),"Transportation-clients")(e,t)}}]),e}();t.default=c},"8oxB":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"8wKF":function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,o,i){if(o<i){var u=o-1;n(e,(l=o,f=i,Math.round(l+Math.random()*(f-l))),i);for(var a=e[i],s=o;s<i;s++)t(e[s],a)<=0&&n(e,u+=1,s);n(e,u+1,s);var c=u+1;r(e,t,o,c-1),r(e,t,c+1,i)}var l,f}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},"9fj9":function(e,t,n){var r,o,i;!function(n,u){"use strict";o=[],void 0===(i="function"==typeof(r=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=n.concat(r,o,["args"]);function u(t){if(t)for(var n=0;n<i.length;n++)void 0!==t[i[n]]&&this["set"+e(i[n])](t[i[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof u)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},u.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),s=a[1],c=a[2],l=a[3];return new u({functionName:r,args:o||void 0,fileName:s,lineNumber:c||void 0,columnNumber:l||void 0})};for(var a=0;a<n.length;a++)u.prototype["get"+e(n[a])]=t(n[a]),u.prototype["set"+e(n[a])]=function(e){return function(t){this[e]=Boolean(t)}}(n[a]);for(var s=0;s<r.length;s++)u.prototype["get"+e(r[s])]=t(r[s]),u.prototype["set"+e(r[s])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(r[s]);for(var c=0;c<o.length;c++)u.prototype["get"+e(o[c])]=t(o[c]),u.prototype["set"+e(o[c])]=function(e){return function(t){this[e]=String(t)}}(o[c]);return u})?r.apply(t,o):r)||(e.exports=i)}()},AQtn:function(e,t,n){var r=n("n3AX"),o=n("lSNA");function i(e,t,n,u){return(i="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var u,a=r(e,t);if(a){if((u=Object.getOwnPropertyDescriptor(a,t)).set)return u.set.call(i,n),!0;if(!u.writable)return!1}if(u=Object.getOwnPropertyDescriptor(i,t)){if(!u.writable)return!1;u.value=n,Object.defineProperty(i,t,u)}else o(i,t,n);return!0})(e,t,n,u)}e.exports=function(e,t,n,r,o){if(!i(e,t,n,r||e)&&o)throw new Error("failed to set property");return n}},"B/eG":function(e,t,n){"use strict";n.r(t),function(e){var r=n("/pFH");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=setTimeout;function u(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void f(t.promise,o)}l(t.promise,r)}else(1===e._state?l:f)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===o(t)||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void p((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(u){f(e,u)}var r,i}function f(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,f(t,e))}))}catch(r){if(n)return;n=!0,f(t,r)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new h(e,t,n)),n},s.prototype.finally=r.a,s.all=function(e){return new s((function(t,n){if(!u(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,u){try{if(u&&("object"===o(u)||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,(function(t){a(e,t)}),n)}r[e]=u,0==--i&&t(r)}catch(c){n(c)}}for(var s=0;s<r.length;s++)a(s,r[s])}))},s.resolve=function(e){return e&&"object"===o(e)&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!u(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)s.resolve(e[r]).then(t,n)}))},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=s}.call(this,n("URgk").setImmediate)},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},EbDI:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},F8lC:function(e,t,n){var r,o,i;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(a,s){"use strict";o=[n("MjPQ"),n("p0at"),n("OLuQ")],void 0===(i="function"==typeof(r=function(e,t,n){var r={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},o=function(){try{throw new Error}catch(e){return e}};function i(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n})),n}function a(e){return e.stack||e["opera#sourceloc"]}function s(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=o();return a(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=i(r,n);var u=o();return s(a(u)?e.parse(u):t.backtrace(n),n.filter)},fromError:function(t,o){o=i(r,o);var u=new n(o);return new Promise(function(n){var r=s(e.parse(t),o.filter);n(Promise.all(r.map((function(e){return new Promise((function(t){function n(){t(e)}u.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=i(r,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var o=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(o){throw a(o)&&this.fromError(o).then(t,n).catch(n),o}}.bind(this);return o.__stacktraceOriginalFn=e,o},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n,r){return new Promise((function(o,i){var a=new XMLHttpRequest;if(a.onerror=i,a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?o(a.responseText):i(new Error("POST to "+t+" failed with status: "+a.status)))},a.open("post",t),a.setRequestHeader("Content-Type","application/json"),r&&"object"===u(r.headers)){var s=r.headers;for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.setRequestHeader(c,s[c])}var l={stack:e};null!=n&&(l.message=n),a.send(JSON.stringify(l))}))}}})?r.apply(t,o):r)||(e.exports=i)}()},FJpV:function(e,t,n){var r=n("7Ss1");t.encode=function(e){var t,n="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),n+=r.encode(t)}while(o>0);return n},t.decode=function(e,t,n){var o,i,u,a,s=e.length,c=0,l=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),c+=(i&=31)<<l,l+=5}while(o);n.value=(a=(u=c)>>1,1==(1&u)?-a:a),n.rest=t}},Fq99:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"publish",value:function(e,t,n){throw new Error("KatalMetricsDriver is an abstract class, please choose a driver and use that instead")}}]),e}();t.default=u},"Gy+X":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("a1gu")),u=r(n("Nsbk")),a=r(n("7W2i")),s=r(n("lSNA")),c=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(0,u.default)(t).call(this,t.INITIALIZE_METRIC_NAME))}return(0,a.default)(t,e),t}(r(n("luad")).default);t.default=c,(0,s.default)(c,"INITIALIZE_METRIC_NAME","Initialization")},Hul1:function(e,t,n){"use strict";n.r(t);var r=n("Zy1b"),o=n.n(r),i=n("O6sB"),u=n.n(i),a=["complete","interactive"],s=function(){return a.indexOf(document.readyState)>=0};var c=n("qZTO"),l=n.n(c),f=n("vPKV");function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h="KatalMetrics",p=["KatalMetricsSellerCentral could not auto-detect domain for metrics","KatalMetricsSellerCentral could not auto-detect realm for metrics","KatalMetricsSellerCentral could not detect http_request_id"];var m="KatalComponent",g="totalConnectedOnPage",v=0,y={};function b(e,t){t.beforeUnload((function(){!function(e){var t=e.newChildPublisher({methodName:"".concat(m,":all")});for(var n in t.publishCounterMonitor(g,v),y){e.newChildPublisher({methodName:"".concat(m,":").concat(n)}).publishCounterMonitor(g,y[n])}}(e)})),window.addEventListener("katal-component-connected",(function(e){!function(e){++v;var t=y[e]||0;y[e]=t+1}(e.detail.element.tagName.toLowerCase())}))}var w={KatalCSS:/.+katal\.flo\.components.+css$/,KatalAssetLoader:/.+katal\.assetloader.+js$/,KatalComponentJS:/.+katal\.flo.components.+js$/,KatalPolyfill:/webcomponents-.+\.js$/};function _(e){for(var t in w)if(w[t].test(e.name))return t;return null}try{!function(){var e=function(e){var t=function(e){p.indexOf(e.message)>=0||console.warn(e)},n="",r="";window.uept&&window.uept.pageType&&(n=window.uept.pageType,r=window.uept.subPageType||"");var o=l.a.makeContextBuilder(h,t),i=function(e){return/([^?]+)/.exec(e)[1]}(window.location.href);return o.addRelatedMetrics.apply(o,d([new f.Metric.String("url",i),new f.Metric.String("pageType",n),new f.Metric.String("subPageType",r),new f.Metric.String("katalBuildTime","2020-05-12T18:42:37.872Z")].map((function(e){return e.truncate=!0,e})))),e||(e=l.a.makeDriverConfigBuilder(t).build()),{publisher:new f.Publisher(e,t,o.build()).newChildActionPublisherForMethod("Load"),sushiDriver:e}}(),t=e.publisher,n=e.sushiDriver;if(b(t,n),window.Katal.internalMetricsAssetLogger=function(e,n){t.publishCounterMonitor(e,n)},window.Katal.deferredAssetMetrics){for(var r in window.Katal.deferredAssetMetrics)window.Katal.internalMetricsAssetLogger(r,window.Katal.deferredAssetMetrics[r]);window.Katal.deferredAssetMetrics={}}!function(e){window.addEventListener("error",(function(t){var n=t.filename,r=t.error;n.match(/katal.*components/)||r&&r.stack&&r.stack.match(/katal.*components/)?e.publishCounterMonitor("KatalComponentsJSError:count",1):n.match("custom-elements_1_2_2.min.js")&&e.publishCounterMonitor("KatalCustomElementsJSError:count",1)}))}(t),function(e,t){if(!window.performance||!window.performance.getEntriesByType)return;t.beforeUnload((function(){var t=performance.getEntriesByType("resource");if(t){var n=[];t.forEach((function(e){var t=_(e);t&&n.push(t)})),["KatalCSS","KatalComponentJS","KatalPolyfill"].forEach((function(t){e.publishCounterMonitor("Unload.".concat(t,".Loaded"),-1!==n.indexOf(t)?1:0)}))}}))}(t,n),new u.a({url:"https://j4a9kf71dd.execute-api.us-east-1.amazonaws.com/prod/v1/log",context:{katalComponentsPackageVersion:"1.0.8025.0",katalComponentsBuildTime:"2020-05-12T18:42:37.872Z",location:window.location},recordMetrics:!1,decodeStackTrace:!0}).addErrorListener((function(e){return e&&e.stack&&e.stack.includes("https://d1uznvntk80v7s.cloudfront.net")})),o()((function(){var e=null;performance.now&&(e=Math.round(performance.now()));var n,r=window.Katal.Performance,o=r.ComponentsStart,i=r.ComponentsEnd;o&&i&&(t.publishTimerMonitor("katalComponentsExecuteStart",o),t.publishTimerMonitor("katalComponentsExecuteEnd",i),t.publishTimerMonitor("katalComponentsExecute",i-o)),n=function(){e&&t.publishTimerMonitor("katalReady",e),function(e){if(window.WebComponents&&window.WebComponents.requiredPolyfills){var t=function(t,n){e.publishCounterMonitor(n,-1!==window.WebComponents.requiredPolyfills.indexOf(t)?1:0)};t("sd","shadyDom"),t("ce","customElements"),t("pf","platform")}}(t),function(e){window.performance&&window.performance.getEntriesByType?(e.publishCounterMonitor("PerformanceApiSupported",1),function(e){var t=performance.getEntriesByType("navigation");if(null!=t&&t.length>0){var n=t[0];null!==n.domInteractive&&void 0!==n.domInteractive&&e.publishTimerMonitor("tti",Math.round(n.domInteractive))}}(e),function(e){var t=performance.getEntriesByType("resource");t&&t.forEach((function(t){var n=_(t);n&&(t.transferSize>0&&e.publishCounterMonitor("".concat(n,".transferSize"),t.transferSize),t.encodedBodySize>0&&e.publishCounterMonitor("".concat(n,".encodedBodySize"),t.encodedBodySize),t.decodedBodySize>0&&e.publishCounterMonitor("".concat(n,".decodedBodySize"),t.decodedBodySize),e.publishTimerMonitor("".concat(n,".duration"),Math.round(t.duration)))}))}(e),function(e){if(performance.getEntriesByName){var t=performance.getEntriesByName("first-paint");t&&t.length>0&&e.publishTimerMonitor("FirstPaint",Math.round(t[0].startTime));var n=performance.getEntriesByName("first-contentful-paint");n&&n.length>0&&e.publishTimerMonitor("FirstContentfulPaint",Math.round(n[0].startTime))}}(e)):e.publishCounterMonitor("PerformanceApiSupported",0)}(t)},s()?n():document.addEventListener("DOMContentLoaded",n)}))}()}catch(S){}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},Iahz:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Object",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"String",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Counter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"TimerStopwatch",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"TimedAttempt",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Initialization",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"HttpRequest",{enumerable:!0,get:function(){return f.default}});var o=r(n("32ku")),i=r(n("kf1+")),u=r(n("Qs+9")),a=r(n("+1ji")),s=r(n("jTtL")),c=r(n("luad")),l=r(n("Gy+X")),f=r(n("WtQj"))},Ijbi:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},JaMJ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("number"!=typeof e)return new Error("Expected ".concat(t," to have type 'number', but it was type '").concat((0,o.default)(e),"'"));if(e<0)return new Error("Expected ".concat(t," to be positive, but it was ").concat(e));if(!i(e))return new Error("Expected ".concat(t," to be an integer, but it was ").concat(e))};var o=r(n("cDf5")),i=function(e){return isFinite(e)&&Math.floor(e)===e}},Lipi:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.makePublisher=d,t.makeContextBuilder=h,t.makeDriverConfigBuilder=p,t.makeErrorHandler=m,t.default=void 0;var i=o(n("vPKV")),u=r(n("5Xaf")),a=r(n("Ly84")),s="SellerCentral",c="katal_sellercentral",l={test:"com.amazon.eel.katal.metrics.core.nexus.sellercentral.gamma",prod:"com.amazon.eel.katal.metrics.core.nexus.sellercentral"},f={logLevel:"ERROR",attribution:"KatalMetrics",message:"Metrics Failure"};function d(e){var t=m(),n=p(t),r=h(e,t);return new i.Publisher(n.build(),t,r.build())}function h(e,t){if(!e)throw new Error("KatalMetricsSellerCentral.makeContextBuilder requires a serviceName parameter");var n=new i.Context.Builder;return n.withSite(s),window.ue_id?n.withRelatedMetrics(new i.Metric.String("http_request_id",window.ue_id)):t&&t(new Error("KatalMetricsSellerCentral could not detect http_request_id")),n.withServiceName(e),n}function p(e){var t=(0,a.default)();e&&(t.domain||e(new Error("KatalMetricsSellerCentral could not auto-detect domain for metrics")),t.realm||e(new Error("KatalMetricsSellerCentral could not auto-detect realm for metrics")));var n=t.domain||"prod",r=t.realm||"USAmazon",o=(new u.default.Builder).withCustomProducer(c).withCustomSourceGroup(l[n]).withDomainRealm(n,r);return e&&o.withErrorHandler(e),o}function m(){return function(e){if(!window.ueLogError)throw new Error("KatalMetricsSellerCentral could not find window.ueLogError to handle error: ".concat(e.message));window.ueLogError(e,f)}}var g={makePublisher:d,makeContextBuilder:h,makeDriverConfigBuilder:p,makeErrorHandler:m};t.default=g},Ly84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(){var e=window.ue_surl;if(e){var t=e.match(/unagi[-]([a-z]{2})/);if(t)return r[t[1]]}}();return{domain:o(),realm:e}};var r={na:"USAmazon",eu:"EUAmazon",fe:"FEAmazon",cn:"CNAmazon"};function o(){var e=window.ue_surl;if(e){if(-1!==e.indexOf("nexusclient.prod"))return"prod";if(-1!==e.indexOf("nexusclient.gamma"))return"test"}}},MVZn:function(e,t,n){var r=n("lSNA");e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}},MjPQ:function(e,t,n){var r,o,i;!function(u,a){"use strict";o=[n("9fj9")],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),u=o.join(" ")||void 0,a=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:u,fileName:a,lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,u=r.length;i<u;i+=2){var a=n.exec(r[i]);a&&o.push(new e({fileName:a[2],lineNumber:a[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,u=r.length;i<u;i+=2){var a=n.exec(r[i]);a&&o.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",u=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:u,args:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?r.apply(t,o):r)||(e.exports=i)}()},NhXK:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"!=typeof e)return new Error("Expected ".concat(t," to be a string, but it was a ").concat((0,o.default)(e)));if(e.length>u)return new Error("Expected ".concat(t," to be less than ").concat(u," characters, but it was ").concat(e.length," characters"));if(e.length<1)return new Error("Expected ".concat(t," to be non-blank"));if(!i.test(e))return new Error("Expected ".concat(t," to contain only valid characters, but it was ").concat(e,".  It can only contain letters, numbers, and these symbols: .:@_/-"))};var o=r(n("cDf5")),i=/^[A-Za-z0-9.:@_/-]+$/,u=127},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},O6sB:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,u=n("2p/B"),a=o(n("B/eG")),s=o(n("F8lC"));!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error",e.FATAL="fatal"}(i=t.Level||(t.Level={}));var c=[i.DEBUG,i.INFO,i.WARN,i.ERROR,i.FATAL],l={logThreshold:i.DEBUG,maxLogLineSize:1e4,batchTimeoutDuration:5e3,decodeStackTrace:!1,recordMetrics:!0,context:{},logToConsole:!1},f=function(){function e(e){var t=this;this.sendLogsToBackend=function(){if(0!==t.logLineQueue.length){var e={logs:t.logLineQueue};t.sendLogToBackend(JSON.stringify(e)),t.logLineQueue=[],t.queueTimerId=void 0}};var n=r(r({},l),e);this.url=n.url,this.logThreshold=n.logThreshold,this.maxLogLineSize=n.maxLogLineSize,this.context=n.context,this.logToConsole=n.logToConsole,this.recordMetrics=n.recordMetrics,this.batchTimeoutDuration=n.batchTimeoutDuration,this.decodeStackTrace=n.decodeStackTrace,this.logLineQueue=[],this.unregisterFns=[],this.logThresholdIndex=Math.max(c.indexOf(i.DEBUG),c.indexOf(this.logThreshold)),this.recordMetrics&&u.metricsPublisher.publishCounterMonitor("KatalLogger:construct",1),this.registerEvent("beforeunload",(function(){t.sendLogsToBackend()}))}return e.prototype.addErrorListener=function(e){var t=this;["error","unhandledrejection"].map((function(n){t.registerEvent(n,(function(n){return t.eventListener(n,e)}),!0)}))},e.prototype.removeErrorListener=function(){this.unregisterFns.forEach((function(e){return e()}))},e.prototype.registerEvent=function(e,t,n){window.addEventListener(e,t,n),this.unregisterFns.push((function(){window.removeEventListener(e,t,n)}))},e.prototype.eventListener=function(e,t){var n,r;if(e.error?(n=e.error.message,r=e.error):e.reason?n=e.reason:e.message?(n=e.message,r=e):n="An unknown error occurred","KatalLogger error"!==n&&(!t||t(r)))try{return this.error(n,r)}catch(o){}},e.prototype.debug=function(e,t,n){var r=this;return this.extractArgs(i.DEBUG,e,t,n).then((function(e){return r.sendRequest(e)}))},e.prototype.info=function(e,t,n){var r=this;return this.extractArgs(i.INFO,e,t,n).then((function(e){return r.sendRequest(e)}))},e.prototype.warn=function(e,t,n){var r=this;return this.extractArgs(i.WARN,e,t,n).then((function(e){return r.sendRequest(e)}))},e.prototype.error=function(e,t,n){var r=this;return this.extractArgs(i.ERROR,e,t,n).then((function(e){return r.sendRequest(e)}))},e.prototype.fatal=function(e,t,n){var r=this;return this.extractArgs(i.FATAL,e,t,n).then((function(e){return r.sendRequest(e)}))},e.prototype.extractArgs=function(e,t,n,o){var i=this.isError(n),u={level:e,message:t,error:i?{errorMessage:n.message,errorName:n.name,errorStackTrace:""}:void 0,context:r(r(r({},this.context),i?o:n),{logTime:Date.now()})};return u.error?this.getStackTraceFromError(n).then((function(e){return u.error.errorStackTrace=e,u})):a.default.resolve(u)},e.prototype.getStackTraceFromError=function(e){return this.decodeStackTrace?a.default.resolve(s.default.fromError(e).then((function(e){return e.map((function(e){return e.toString()})).join("\n")}))):a.default.resolve(String(e.stack))},e.prototype.sendRequest=function(e){this.queueLogLine(e),this.logToConsole&&this.sendLogToConsole(e)},e.prototype.isError=function(e){return Boolean(e&&e.name&&e.message&&(e.stack||e.constructor))},e.prototype.sendLogToConsole=function(e){console.log(e)},e.prototype.queueLogLine=function(e){this.payloadIsValid(e)&&(this.queueTimerId||(this.queueTimerId=window.setTimeout(this.sendLogsToBackend,this.batchTimeoutDuration)),this.appendToQueue(e))},e.prototype.appendToQueue=function(e){this.logLineQueue.push(e)},e.prototype.sendLogToBackend=function(e){if(this.url){if(navigator&&navigator.sendBeacon)navigator.sendBeacon(this.url,e);else{var t=new XMLHttpRequest;t.open("POST",this.url,!0),t.send(e)}this.recordMetrics&&u.metricsPublisher.publishCounterMonitor("KatalLogger:dataVolumeSentToBackend",e.length)}},e.prototype.payloadIsValid=function(e){if(c.indexOf(e.level)>=this.logThresholdIndex&&JSON.stringify(e).length<=this.maxLogLineSize)return!0;return!1},e}();t.default=f},OLuQ:function(e,t,n){var r,o,i;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(a,s){"use strict";o=[n("+6Ur"),n("9fj9")],void 0===(i="function"==typeof(r=function(e,t){function n(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()}))}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("object"!==u(e))throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}return function i(u){if(!(this instanceof i))return new i(u);u=u||{},this.sourceCache=u.sourceCache||{},this.sourceMapConsumerCache=u.sourceMapConsumerCache||{},this.ajax=u.ajax||n,this._atob=u.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(u.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var o=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(o){var i=o[0].length,a=e.substr(i),s=this._atob(a);this.sourceCache[e]=s,t(s)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var c=this.ajax(e,{method:"get"});this.sourceCache[e]=c,c.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(r){if(this.sourceMapConsumerCache[t])r(this.sourceMapConsumerCache[t]);else{var o=new Promise(function(r,o){return this._get(t).then((function(t){"string"==typeof t&&(t=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),r(new e.SourceMapConsumer(t))}),o)}.bind(this));this.sourceMapConsumerCache[t]=o,r(o)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){o(e),this._get(e.fileName).then((function(r){var o=e.lineNumber,i=e.columnNumber,u=function(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),o="",i=Math.min(t,20),u=0;u<i;++u){var a=r[t-u-1],s=a.indexOf("//");if(s>=0&&(a=a.substr(0,s)),a){o=a+o;for(var c=n.length,l=0;l<c;l++){var f=n[l].exec(o);if(f&&f[1])return f[1]}}}}(r,o);n(u?new t({functionName:u,args:e.args,fileName:e.fileName,lineNumber:o,columnNumber:i}):e)}),r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(n,r){!function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}(),o(e);var i=this.sourceCache,u=e.fileName;this._get(u).then(function(r){var o=function(e){for(var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}(r),a="data:"===o.substr(0,5),s=u.substring(0,u.lastIndexOf("/")+1);return"/"===o[0]||a||/^https?:\/\/|^\/\//i.test(o)||(o=s+o),this._getSourceMapConsumer(o,s).then((function(r){return function(e,n,r){return new Promise((function(o,i){var u=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(u.source){var a=n.sourceContentFor(u.source);a&&(r[u.source]=a),o(new t({functionName:u.name||e.functionName,args:e.args,fileName:u.source,lineNumber:u.line,columnNumber:u.column}))}else i(new Error("Could not get original source for given stackframe and source map"))}))}(e,r,i).then(n).catch((function(){n(e)}))}))}.bind(this),r).catch(r)}.bind(this))}}})?r.apply(t,o):r)||(e.exports=i)}()},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},QILm:function(e,t,n){var r=n("8OQS");e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},"Qs+9":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("Nsbk")),s=r(n("iWIM")),c=r(n("7W2i")),l=r(n("32ku")),f=r(n("JaMJ")),d=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,o.default)(this,t),(n=(0,u.default)(this,(0,a.default)(t).call(this,e))).value=r,n}return(0,c.default)(t,e),(0,i.default)(t,[{key:"add",value:function(e){this.value+=e}},{key:"validationError",value:function(){var e=(0,s.default)((0,a.default)(t.prototype),"validationError",this).call(this);return e||(0,f.default)(this.value,"field value in Counter metrics object '".concat(this.name,"'"))}},{key:"value",get:function(){return this._value},set:function(e){this._value=Math.round(e)}},{key:"type",get:function(){return l.default.Types.Counter}},{key:"canMonitor",get:function(){return!0}}]),t}(l.default);t.default=d},RIqP:function(e,t,n){var r=n("Ijbi"),o=n("EbDI"),i=n("Bnag");e.exports=function(e){return r(e)||o(e)||i()}},SRM2:function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function u(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var u,a=t.isAbsolute(n),s=n.split(/\/+/),c=0,l=s.length-1;l>=0;l--)"."===(u=s[l])?s.splice(l,1):".."===u?c++:c>0&&(""===u?(s.splice(l+1,c),c=0):(s.splice(l,2),c--));return""===(n=s.join("/"))&&(n=a?"/":"."),r?(r.path=n,i(r)):n}t.urlParse=o,t.urlGenerate=i,t.normalize=u,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),a=o(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var s="/"===t.charAt(0)?t:u(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=s,i(a)):s},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function s(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?s:function(e){return c(e)?"$"+e:e},t.fromSetString=a?s:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=e.source-t.source)?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=l(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},Sxz6:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e){e.String="String",e.Counter="Counter",e.Timer="Timer",e.List="List"}(r||(r={}));var o=r;t.default=o},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},URgk:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},Ug70:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("QILm")),i=r(n("RIqP")),u=r(n("MVZn")),a=r(n("lwsE")),s=r(n("W8MJ")),c=r(n("lSNA")),l=r(n("NhXK")),f=r(n("5M3z")),d=["site","serviceName","methodName"],h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.context=(0,u.default)({},t)}return(0,s.default)(e,[{key:"merge",value:function(t){if(!t)return this;if(t instanceof e.Builder)throw new Error("KatalMetricsContext.Builder object passed instead of KatalMetricsContext.  Try calling .build() method.");var n=t instanceof e?t.context:t,r=(0,u.default)({},this.context,n);return(this.context.relatedMetrics||n.relatedMetrics)&&(r.relatedMetrics=[].concat((0,i.default)(this.context.relatedMetrics||[]),(0,i.default)(n.relatedMetrics||[]))),new e(r)}},{key:"driverContext",value:function(){var t=this.context;t.relatedMetrics;return new e((0,o.default)(t,["relatedMetrics"]))}},{key:"getFields",value:function(){return(0,u.default)({},this.context)}},{key:"validationError",value:function(){var e=this;return(0,f.default)(d,(function(t){if(null==e.context[t])return new Error("Field ".concat(t," is required, but it is ").concat(e.context[t]))}))||(0,f.default)(Object.keys(this.context),(function(t){return e.validateField(t)}))}},{key:"validateField",value:function(e){var t=this.context[e],n="field ".concat(e);switch(e){case"site":case"serviceName":if(t.indexOf("/")>-1)return new Error("Expected ".concat(n," to contain only valid characters, but it was ").concat(t,".  It cannot contain a slash."));case"methodName":case"actionId":return(0,l.default)(t,n)}}}]),e}();t.default=h,(0,c.default)(h,"Builder",function(){function e(){(0,a.default)(this,e),(0,c.default)(this,"context",{})}return(0,s.default)(e,[{key:"withSite",value:function(e){return this.context.site=e,this}},{key:"withServiceName",value:function(e){return this.context.serviceName=e,this}},{key:"withMethodName",value:function(e){return this.context.methodName=e,this}},{key:"withActionId",value:function(e){return this.context.actionId=e,this}},{key:"withRelatedMetrics",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.context.relatedMetrics=t,this}},{key:"addRelatedMetrics",value:function(){this.context.relatedMetrics||(this.context.relatedMetrics=[]);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.push.apply(this.context.relatedMetrics,t),this}},{key:"build",value:function(){return new h(this.context)}}]),e}())},VaxT:function(e,t,n){"use strict";var r=n("284h"),o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("lwsE")),u=o(n("W8MJ")),a=o(n("lSNA")),s=o(n("xk4V")),c=o(n("Ug70")),l=o(n("32ku")),f=r(n("vPKV")),d=function(e){console.error("Error publishing metrics:"),console.error(e)},h=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c.default;if((0,i.default)(this,e),(0,a.default)(this,"combinedErrorHandler",(function(e){try{n.errorHandler(e)}catch(t){console.error("Error handling error publishing metrics:"),console.error(t),d(e)}})),o instanceof c.default.Builder)throw new Error("KatalMetricsContext.Builder object passed instead of KatalMetricsContext.  Try calling .build() method.");this.driver=t,this.errorHandler=r,this.context=o instanceof c.default?o:new c.default(o)}return(0,u.default)(e,[{key:"withErrorHandling",value:function(e){try{return e()}catch(t){this.combinedErrorHandler(t)}}},{key:"publish",value:function(e){var t=this;this.withErrorHandling((function(){if(!e)throw new Error("Cannot publish undefined/null metric object");if(l.default.Types.List===e.type)e.metricList.forEach((function(e){t.publish(e)}));else{var n=t.context.driverContext(),r=n.validationError();if(r)throw r;var o=e.validationError();if(o)throw o;t.driver.publish(e,t.combinedErrorHandler,n)}}))}},{key:"newChildPublisher",value:function(t){return new e(this.driver,this.errorHandler,this.context.merge(t))}},{key:"newChildActionPublisher",value:function(e){var t=new c.default({actionId:this._generateActionid()}),n=this.newChildPublisher(t.merge(e));return this.context.context.relatedMetrics&&this.context.context.relatedMetrics.forEach((function(e){n.publish(e)})),n}},{key:"newChildActionPublisherForMethod",value:function(e,t){return this.newChildActionPublisher(new c.default({methodName:e}).merge(t))}},{key:"newChildActionPublisherForInitialization",value:function(e){return this.newChildActionPublisherForMethod("Initialization",e)}},{key:"publishString",value:function(e,t){this.publish(new f.Metric.String(e,t))}},{key:"publishStringTruncate",value:function(e,t){var n=new f.Metric.String(e,t);n.truncate=!0,this.publish(n)}},{key:"publishCounter",value:function(e,t){this.publish(new f.Metric.Counter(e,t))}},{key:"publishTimer",value:function(e,t){this.publish(new f.Metric.Timer(e,t))}},{key:"publishCounterMonitor",value:function(e,t){this.publish(new f.Metric.Counter(e,t).withMonitor())}},{key:"publishTimerMonitor",value:function(e,t){this.publish(new f.Metric.Timer(e,t).withMonitor())}},{key:"_generateActionid",value:function(){return(0,s.default)()}}]),e}();t.default=h},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},WtQj:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("Nsbk")),s=r(n("7W2i")),c=r(n("lSNA")),l=r(n("luad")),f=r(n("kf1+")),d=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(0,a.default)(t).call(this,"".concat(t.HTTP_REQUEST_PREFIX,".").concat(e)))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"url",set:function(e){this.setOrDeleteNamedMetricValue(t.URL_SUFFIX,f.default,e)},get:function(){return this.getNamedMetricValue(t.URL_SUFFIX)}},{key:"urlMetric",get:function(){return this.getNamedMetric(t.URL_SUFFIX)}},{key:"statusCode",set:function(e){this.setOrDeleteNamedMetricValue(t.STATUS_CODE_SUFFIX,f.default,e)},get:function(){return this.getNamedMetricValue(t.STATUS_CODE_SUFFIX)}},{key:"statusCodeMetric",get:function(){return this.getNamedMetric(t.STATUS_CODE_SUFFIX)}},{key:"statusText",set:function(e){this.setOrDeleteNamedMetricValue(t.STATUS_TEXT_SUFFIX,f.default,e)},get:function(){return this.getNamedMetricValue(t.STATUS_TEXT_SUFFIX)}},{key:"statusTextMetric",get:function(){return this.getNamedMetric(t.STATUS_TEXT_SUFFIX)}}]),t}(l.default);t.default=d,(0,c.default)(d,"HTTP_REQUEST_PREFIX","HTTPRequest"),(0,c.default)(d,"URL_SUFFIX","URL"),(0,c.default)(d,"STATUS_CODE_SUFFIX","StatusCode"),(0,c.default)(d,"STATUS_TEXT_SUFFIX","StatusText")},YBdB:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,u,a,s=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(u="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(u)&&p(+t.data.slice(u.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(u+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[s]=o,r(s),s++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},Zy1b:function(e,t){function n(e){window.KatalReady&&window.KatalReady.katal?e():document.addEventListener("katal-ready",(function(){e()}))}e.exports=n,e.exports.default=n},a1gu:function(e,t,n){var r=n("cDf5"),o=n("PJYZ");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},aq46:function(e,t,n){var r=n("SRM2"),o=n("i/CO"),i=n("2k1W").ArraySet,u=n("FJpV"),a=n("8wKF").quickSort;function s(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new f(t):new c(t)}function c(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sources"),u=r.getArg(t,"names",[]),a=r.getArg(t,"sourceRoot",null),s=r.getArg(t,"sourcesContent",null),c=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o=o.map(String).map(r.normalize).map((function(e){return a&&r.isAbsolute(a)&&r.isAbsolute(e)?r.relative(a,e):e})),this._names=i.fromArray(u.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=a,this.sourcesContent=s,this._mappings=c,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function f(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new i,this._names=new i;var u={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),o=r.getArg(t,"column");if(n<u.line||n===u.line&&o<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new s(r.getArg(e,"map"))}}))}s.fromSourceMap=function(e){return c.fromSourceMap(e)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},s.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(e,t,n){var o,i=t||null;switch(n||s.GENERATED_ORDER){case s.GENERATED_ORDER:o=this._generatedMappings;break;case s.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;o.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=r.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},s.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var i=[],u=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(u>=0){var a=this._originalMappings[u];if(void 0===e.column)for(var s=a.originalLine;a&&a.originalLine===s;)i.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++u];else for(var c=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==c;)i.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++u]}return i},t.SourceMapConsumer=s,c.prototype=Object.create(s.prototype),c.prototype.consumer=s,c.fromSourceMap=function(e){var t=Object.create(c.prototype),n=t._names=i.fromArray(e._names.toArray(),!0),o=t._sources=i.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var u=e._mappings.toArray().slice(),s=t.__generatedMappings=[],f=t.__originalMappings=[],d=0,h=u.length;d<h;d++){var p=u[d],m=new l;m.generatedLine=p.generatedLine,m.generatedColumn=p.generatedColumn,p.source&&(m.source=o.indexOf(p.source),m.originalLine=p.originalLine,m.originalColumn=p.originalColumn,p.name&&(m.name=n.indexOf(p.name)),f.push(m)),s.push(m)}return a(t.__originalMappings,r.compareByOriginalPositions),t},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e}),this)}}),c.prototype._parseMappings=function(e,t){for(var n,o,i,s,c,f=1,d=0,h=0,p=0,m=0,g=0,v=e.length,y=0,b={},w={},_=[],S=[];y<v;)if(";"===e.charAt(y))f++,y++,d=0;else if(","===e.charAt(y))y++;else{for((n=new l).generatedLine=f,s=y;s<v&&!this._charIsMappingSeparator(e,s);s++);if(i=b[o=e.slice(y,s)])y+=o.length;else{for(i=[];y<s;)u.decode(e,y,w),c=w.value,y=w.rest,i.push(c);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");b[o]=i}n.generatedColumn=d+i[0],d=n.generatedColumn,i.length>1&&(n.source=m+i[1],m+=i[1],n.originalLine=h+i[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=p+i[3],p=n.originalColumn,i.length>4&&(n.name=g+i[4],g+=i[4])),S.push(n),"number"==typeof n.originalLine&&_.push(n)}a(S,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,a(_,r.compareByOriginalPositions),this.__originalMappings=_},c.prototype._findMapping=function(e,t,n,r,i,u){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i,u)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",s.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=r.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=r.join(this.sourceRoot,i)));var u=r.getArg(o,"name",null);return null!==u&&(u=this._names.at(u)),{source:i,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:u}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",s.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=c,f.prototype=Object.create(s.prototype),f.prototype.constructor=s,f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),f.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=o.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},f.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},f.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},f.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},f.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,u=0;u<i.length;u++){var s=i[u],c=o.consumer._sources.at(s.source);null!==o.consumer.sourceRoot&&(c=r.join(o.consumer.sourceRoot,c)),this._sources.add(c),c=this._sources.indexOf(c);var l=o.consumer._names.at(s.name);this._names.add(l),l=this._names.indexOf(l);var f={source:c,generatedLine:s.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(o.generatedOffset.generatedLine===s.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(f),"number"==typeof f.originalLine&&this.__originalMappings.push(f)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=f},cDf5:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},hrMX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR_HANDLER=void 0;t.DEFAULT_ERROR_HANDLER=function(e){throw e}},"i/CO":function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,o){if(0===n.length)return-1;var i=function e(n,r,o,i,u,a){var s=Math.floor((r-n)/2)+n,c=u(o,i[s],!0);return 0===c?s:c>0?r-s>1?e(s,r,o,i,u,a):a==t.LEAST_UPPER_BOUND?r<i.length?r:-1:s:s-n>1?e(n,s,o,i,u,a):a==t.LEAST_UPPER_BOUND?s:n<0?-1:n}(-1,n.length,e,n,r,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(n[i],n[i-1],!0);)--i;return i}},iWIM:function(e,t,n){var r=n("n3AX");function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},jTtL:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("AQtn")),s=r(n("Nsbk")),c=r(n("iWIM")),l=r(n("7W2i")),f=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,u.default)(this,(0,s.default)(t).call(this,e,void 0))).start(n),r._value=void 0,r}return(0,l.default)(t,e),(0,i.default)(t,[{key:"start",value:function(e){this._startTime=e||this.now()}},{key:"stop",value:function(e){return this._stopTime=e||this.now()}},{key:"now",value:function(){return performance.now()}},{key:"isStopped",get:function(){return void 0!==this._stopTime}},{key:"value",get:function(){return void 0===(0,c.default)((0,s.default)(t.prototype),"value",this)&&(this.isStopped||this.stop(),(0,a.default)((0,s.default)(t.prototype),"value",this.stopTime-this.startTime,this,!0)),(0,c.default)((0,s.default)(t.prototype),"value",this)},set:function(e){(0,a.default)((0,s.default)(t.prototype),"value",e,this,!0)}},{key:"startTime",get:function(){return this._startTime}},{key:"stopTime",get:function(){return this._stopTime}}]),t}(r(n("+1ji")).default);t.default=f},k3d0:function(e,t,n){var r=n("5t5f").SourceMapGenerator,o=n("SRM2"),i=/(\r?\n)/,u="$$$isSourceNode$$$";function a(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[u]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,u=e.split(i),s=function(){return u.shift()+(u.shift()||"")},c=1,l=0,f=null;return t.eachMapping((function(e){if(null!==f){if(!(c<e.generatedLine)){var t=(n=u[0]).substr(0,e.generatedColumn-l);return u[0]=n.substr(e.generatedColumn-l),l=e.generatedColumn,d(f,t),void(f=e)}d(f,s()),c++,l=0}for(;c<e.generatedLine;)r.add(s()),c++;if(l<e.generatedColumn){var n=u[0];r.add(n.substr(0,e.generatedColumn)),u[0]=n.substr(e.generatedColumn),l=e.generatedColumn}f=e}),this),u.length>0&&(f&&d(f,s()),r.add(u.join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),r.setSourceContent(e,i))})),r;function d(e,t){if(null===e||void 0===e.source)r.add(t);else{var i=n?o.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,i,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[u]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[u]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[u]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[u]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][u]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),o=!1,i=null,u=null,a=null,s=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&u===r.line&&a===r.column&&s===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,u=r.line,a=r.column,s=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(i=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=a},kdXD:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("Nsbk")),s=r(n("7W2i")),c=r(n("6oTI")),l=r(n("17tC")),f=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,u.default)(this,(0,a.default)(t).call(this,e))).namedMetrics={},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"setNamedMetric",value:function(e,t){var n=t(this.getNameForSubMetric(e));n.canMonitor&&(n.isMonitor=this.isMonitor),this.namedMetrics[e]=n}},{key:"setOrDeleteNamedMetricValue",value:function(e,t,n){null==n?this.deleteNamedMetric(e):this.getOrCreateNamedMetric(e,(function(e){return new t(e,n)})).value=n}},{key:"getOrCreateNamedMetric",value:function(e,t){return this.namedMetrics[e]||this.setNamedMetric(e,t),this.namedMetrics[e]}},{key:"getNamedMetric",value:function(e){return this.namedMetrics[e]}},{key:"deleteNamedMetric",value:function(e){delete this.namedMetrics[e]}},{key:"getNamedMetricValue",value:function(e){var t=this.getNamedMetric(e);if(t)return t.value}},{key:"getNameForSubMetric",value:function(e){return"".concat(this.name,".").concat(e)}},{key:"metricList",get:function(){return(0,l.default)(this.namedMetrics)}}]),t}(c.default);t.default=f},"kf1+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("cDf5")),i=r(n("lwsE")),u=r(n("W8MJ")),a=r(n("a1gu")),s=r(n("PJYZ")),c=r(n("Nsbk")),l=r(n("iWIM")),f=r(n("7W2i")),d=r(n("lSNA")),h=r(n("32ku")),p=function(e){function t(e,n){var r;return(0,i.default)(this,t),r=(0,a.default)(this,(0,c.default)(t).call(this,e)),(0,d.default)((0,s.default)(r),"truncate",!1),r.value=n,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"validationError",value:function(){var e=(0,l.default)((0,c.default)(t.prototype),"validationError",this).call(this);if(e)return e;if("string"!=typeof this.value)return new Error("Expected field value in String metrics object '".concat(this.name,"' to be type string, but it was ").concat((0,o.default)(this.value)));if(this.value.length>t.MAX_SIZE){if(!this.truncate)return new Error("Expected field value in String metrics object '".concat(this.name,"' to be ").concat(t.MAX_SIZE," characters or less, but it was ").concat(this.value.length," characters."));this.value=this.value.substring(0,t.MAX_SIZE)}}},{key:"value",get:function(){return this._value},set:function(e){"number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),this._value=e}},{key:"type",get:function(){return h.default.Types.String}},{key:"canMonitor",get:function(){return!1}}]),t}(h.default);t.default=p,(0,d.default)(p,"MAX_SIZE",256)},kglv:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.KatalMetricsDriverSushi=void 0;var o=r(n("MVZn")),i=r(n("lwsE")),u=r(n("W8MJ")),a=r(n("a1gu")),s=r(n("Nsbk")),c=r(n("PJYZ")),l=r(n("7W2i")),f=r(n("lSNA")),d=r(n("Fq99")),h=r(n("Sxz6")),p=r(n("8kC7")),m="katal",g={test:"com.amazon.eel.katal.metrics.core.nexus.gamma",prod:"com.amazon.eel.katal.metrics.core.nexus"},v=function(e){function t(e){var n;(0,i.default)(this,t),n=(0,a.default)(this,(0,s.default)(t).call(this)),(0,f.default)((0,c.default)(n),"sushi",void 0),(0,f.default)((0,c.default)(n),"producerId",void 0),(0,f.default)((0,c.default)(n),"sourceGroupId",void 0),(0,f.default)((0,c.default)(n),"errorHandler",void 0),(0,f.default)((0,c.default)(n),"combinedErrorHandler",(function(e){if(n.errorHandler)try{return void n.errorHandler(e)}catch(t){console.error("Error handling error publishing metrics:"),console.error(t)}n.defaultErrorHandler(e)}));var r=e.domain,o=e.realm,u=e.errorHandler,l=e.sushiClient,d=e.sushiProducer,h=void 0===d?m:d,p=e.sushiClientOptions,v=e.sushiClientTransportOverride,y=e.sourceGroupId||g[r]||g.test;return n.sushi=l||n.buildSushiClient(r,o,y,p,v),n.errorHandler=u,n.producerId=h,n.sourceGroupId=y,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"beforeUnload",value:function(e){this.sushi.onSushiUnload(e)}},{key:"defaultErrorHandler",value:function(e){console.error("Error publishing metrics:"),console.error(e)}},{key:"withErrorHandling",value:function(e){try{return e()}catch(t){this.combinedErrorHandler(t)}}},{key:"buildSushiClient",value:function(e,n,r,o,i){if(!e||!n)throw new Error("KatalMetricsDriverSushi requires a domain and realm to build a sushi client.");return new p.default(t.getRealmName(n),r,this.combinedErrorHandler,o,i)}},{key:"publish",value:function(e,t,n){var r=this,i=arguments.length<3?arguments[1]:arguments[2];this.withErrorHandling((function(){if(h.default.List!==e.type){var t=r.mapObjectTypeToNexusSchema(e.type),n=(0,o.default)({},i.context,{metricKey:e.name,value:e.value});e.isMonitor&&(n.isMonitor=!0),r.sushi.reset(),r.sushi.event(n,r.producerId,t,{ssd:1})}else e.metricList.forEach((function(e){r.publish(e,i)}))}))}},{key:"mapObjectTypeToNexusSchema",value:function(e){switch(e){case h.default.String:return"katal.client.metrics.String.2";case h.default.Counter:return"katal.client.metrics.Counter.3";case h.default.Timer:return"katal.client.metrics.Timer.2";default:throw new Error("Unknown type ".concat(e," when publishing metric object."))}}}],[{key:"getRealmName",value:function(e){switch(e){case"NAAmazon":case"USAmazon":return p.default.REGIONS.NA;case"EUAmazon":return p.default.REGIONS.EU;case"FEAmazon":case"JPAmazon":return p.default.REGIONS.FE;case"CNAmazon":return p.default.REGIONS.CN;default:return e}}}]),t}(d.default);t.KatalMetricsDriverSushi=v,(0,f.default)(v,"Builder",function(){function e(){(0,i.default)(this,e),(0,f.default)(this,"context",{})}return(0,u.default)(e,[{key:"withSushiClient",value:function(e){return this.context.sushiClient=e,this}},{key:"withDomainRealm",value:function(e,t){return this.context.domain=e,this.context.realm=t,this}},{key:"withCustomProducer",value:function(e){return this.context.sushiProducer=e,this}},{key:"withCustomSourceGroup",value:function(e){return this.context.sourceGroupId=e,this}},{key:"withErrorHandler",value:function(e){return this.context.errorHandler=e,this}},{key:"withSushiClientOptions",value:function(e){return this.context.sushiClientOptions=e,this}},{key:"withSushiClientTransportOverride",value:function(e){return this.context.sushiClientTransportOverride=e,this}},{key:"build",value:function(){return new v(this.context)}}]),e}())},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},luad:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("a1gu")),a=r(n("Nsbk")),s=r(n("7W2i")),c=r(n("lSNA")),l=r(n("kdXD")),f=r(n("jTtL")),d=r(n("Qs+9")),h=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,u.default)(this,(0,a.default)(t).call(this,e))).setNamedMetric(t.LATENCY_SUFFIX,(function(e){return new f.default(e)})),n.setNamedMetric(t.FAILURE_SUFFIX,(function(e){return new d.default(e,1)})),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"setFailure",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?1:0,n=this.failureMetric;n.value=t}},{key:"setSuccess",value:function(){this.setFailure(!1)}},{key:"setLatency",value:function(e){this.latencyMetric.value=e}},{key:"latencyMetric",get:function(){return this.getNamedMetric(t.LATENCY_SUFFIX)}},{key:"failureMetric",get:function(){return this.getNamedMetric(t.FAILURE_SUFFIX)}}]),t}(l.default);t.default=h,(0,c.default)(h,"LATENCY_SUFFIX","Latency"),(0,c.default)(h,"FAILURE_SUFFIX","Failure")},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},n3AX:function(e,t,n){var r=n("Nsbk");e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},nkJi:function(e,t,n){var r=n("SRM2");function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){var t,n,o,i,u,a;t=this._last,n=e,o=t.generatedLine,i=n.generatedLine,u=t.generatedColumn,a=n.generatedColumn,i>o||i==o&&a>=u||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=o},p0at:function(e,t,n){var r,o,i;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(a,s){"use strict";o=[n("9fj9")],void 0===(i="function"==typeof(r=function(e){return{backtrace:function(t){var n=[],r=10;"object"===u(t)&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var o=arguments.callee;o&&n.length<r&&o.arguments;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:i})):n.push(new e({args:i}));try{o=o.caller}catch(s){break}}return n}}})?r.apply(t,o):r)||(e.exports=i)}()},qZTO:function(e,t,n){"use strict";var r=n("284h");Object.defineProperty(t,"__esModule",{value:!0});var o={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=r(n("Lipi"));Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},vPKV:function(e,t,n){"use strict";var r=n("TqRt"),o=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Publisher",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MetricsDriver",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ErrorHandler",{enumerable:!0,get:function(){return c.ErrorHandler}}),t.Metric=void 0;var i=o(n("Iahz"));t.Metric=i;var u=r(n("VaxT")),a=r(n("Ug70")),s=r(n("Fq99")),c=n("hrMX")},xk4V:function(e,t,n){var r=n("4fRq"),o=n("I2ZF");e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t)for(var a=0;a<16;++a)t[i+a]=u[a];return t||o(u)}},yLpj:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(o){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r}});
//# sourceMappingURL=metrics.300824aa3f1b00565047.js.map